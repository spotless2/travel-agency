<div class="container-sm">
  <div class="title">Available Flights</div>
  <button class="go-back-button" (click)="goBack()">Go Back</button>
</div>
<div class="flight-card" *ngFor="let flight of flights; let i = index">
  <div class="flight-details">
    <p><strong>Departure:</strong> {{ flight.departureName }}</p>
    <p><strong>Destination:</strong> {{ flight.arrivalName }}</p>
    <p><strong>Flight legs:</strong> {{ flight.flightLegs }}</p>
    <p><strong>Departure Date:</strong> {{ flight.departureDateTime }}</p>
    <p><strong>Arrival Date:</strong> {{ flight.arrivalDateTime }}</p>
    <p><strong>Total Price:</strong> {{ "$" + flight.totalPrice}}</p>
  </div>
  <button class="details-button" (click)="toggleFlightDetails(i)">
    {{ showLegDetailsStates[i] ? 'Show Less Details' : 'Show More Details' }}
  </button>
    <div class="flight-legs-details" *ngIf="showLegDetailsStates[i]">
      <h4>Flight Legs Details</h4>
      <div class="flight-leg" *ngFor="let leg of flight.flightLegDetailsList">
        <p><strong>Flight Number:</strong> {{ leg.flightNumber }}</p>
        <p><strong>Departure Time:</strong> {{ leg.departureDateTime }}</p>
        <p><strong>Arrival Time:</strong> {{ leg.arrivalDateTime }}</p>
        <p><strong>Departure Airport:</strong> {{ leg.departureAirportList[0].locationName }}</p>
        <p><strong>Arrival Airport:</strong> {{ leg.arrivalAirportList[0].locationName }}</p>
        <p><strong>Company Name:</strong> {{ leg.marketingAirlineList[0].companyShortName }}</p>
        <p *ngIf="leg.departureAirportList[0].terminal != ' '"><strong>Departure Terminal:</strong> {{ leg.departureAirportList[0].terminal }}</p>
        <p *ngIf="leg.departureAirportList[0].terminal === ' '"><strong>Departure Terminal:</strong> Not yet announced</p>
        <p *ngIf="leg.arrivalAirportList[0].terminal != ' '"><strong>Arrival Terminal:</strong> {{ leg.arrivalAirportList[0].terminal }}</p>
        <p *ngIf="leg.arrivalAirportList[0].terminal === ' '"><strong>Arrival Terminal:</strong> Not yet announced</p>

        <!-- Add more details if needed -->
      </div>
    </div>
  <button class="book-button" (click)="bookFlight(flight)">Book</button>
</div>

